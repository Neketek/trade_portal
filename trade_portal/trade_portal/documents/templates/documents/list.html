{% extends "base.html" %}

{% load static %}
{% load pagination_tags %}

{% block title %}Documents{% endblock %}

{% block content %}
  <h1>Documents for {{ current_org }}</h1>

  <div class="float-right">
    <a href="{% url 'documents:create' %}" class="btn btn-primary btn-sm">+ Create</a>
  </div>

  <table class="table">
    <tr>
      <th>ID</th>
      <th>Type</th>
      <th>Document Number</th>
      <th>Status</th>
      <th>Trading Country</th>
      <th>Created Date</th>
      <th>Issuer</th>
      <th>Exporter</th>
      <th>Importer</th>
      <th>Consignment ref.</th>
      <th>IGID</th>
    </tr>
    {% autopaginate object_list 10 %}
    {% for doc in object_list %}
      <tr>
        <td>
          <a href="{% url 'documents:detail' doc.pk %}">
            {{ doc.short_id }}
          </a>
        </td>
        <td>
          <div class="badge badge-pill badge-info">
            {{ doc.get_type_display }}
          </div>
        </td>
        <td>
          {{ doc.document_number }}
        </td>
        <td>{{ doc.get_status_display }}</td>
        <td>{{ doc.importing_country }}</td>
        <td>{{ doc.created_at }}</td>
        <td>{{ doc.issuer }}</td>
        <td>{{ doc.exporter }}</td>
        <td>{{ doc.importer }}</td>
        <td>{{ doc.consignment_ref }}</td>
        <td>TODO</td>
      </tr>
    {% endfor %}
  </table>
  {% paginate %}
</div>
{% endblock content %}
